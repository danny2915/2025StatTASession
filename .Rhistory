)
ggsave(filename = "wk7_default_plot.png",
path = "figures",
plot = interest_purpose_plot
)
ggsave(filename = "wk7_sized_plot.png",
path = "figures",
plot = interest_purpose_plot,
width = 6,
height = 4
)
ggsave(filename = "wk7_sized_dpi150_plot.png",
path = "figures",
plot = interest_purpose_plot,
width = 6,
height = 4,
dpi = 150
)
#| echo: false        # hide code if this is the Answers page
ggsave(filename = filename = file.path(fig_dir, "wk7_default_plot.png"),
#| echo: false        # hide code if this is the Answers page
ggsave(filename = file.path(fig_dir, "wk7_default_plot.png"),
plot = interest_purpose_plot
)
here("figures")
#| echo: false        # hide code if this is the Answers page
ggsave(filename = file.path(here("figures"), "wk7_default_plot.png"),
plot = interest_purpose_plot
)
ggsave(filename = file.path(here("figures"), "wk7_sized_plot.png"),
path = "figures",
plot = interest_purpose_plot,
width = 6,
height = 4
)
#| echo: false        # hide code if this is the Answers page
ggsave(filename = file.path(here("figures"), "wk7_default_plot.png"),
plot = interest_purpose_plot
)
ggsave(filename = file.path(here("figures"), "wk7_sized_plot.png"),
plot = interest_purpose_plot,
width = 6,
height = 4
)
ggsave(filename = file.path(here("figures"), "wk7_sized_dpi150_plot.png"),
plot = interest_purpose_plot,
width = 6,
height = 4,
dpi = 150
)
#| echo: false        # hide code if this is the Answers page
library(tidyverse)
library(here)
restaurants <- read.csv(here("data", "restarurants.csv"))
#| echo: false        # hide code if this is the Answers page
library(tidyverse)
library(here)
restaurants <- read.csv(here("data", "restaurants.csv"))
rm(list = ls())
#| echo: false        # hide code if this is the Answers page
library(tidyverse)
library(here)
restaurants <- read.csv(here("data", "restaurants.csv"))
View(restaurants)
restaurants %>%
filter(closed != "Thu" | closed != "close down")
restaurants %>%
filter(closed != "Thu" || closed != "close down")
#| echo: false        # hide code if this is the Answers page
library(tidyverse)
library(here)
restaurants <- read.csv(here("data", "restaurants.csv"))
restaurants_cleaned <- restaurants %>%
filter(closed != "Thu" | closed != "close down") %>%
mutate(lunch_set_score = ifelse(lunch_set == "Yes", 1, 0)) %>%
mutate(preference_score = case_when(
type == "seafood" ~ 2,
type == "curry" | type == "noodle" ~ 1,
type == "fastfood" ~ -2,
TRUE ~ 0
)) %>%
as.numeric(rating) %>%
mutate(total_score = rating + lunch_set_score + preference_score) %>%
arrange(desc(total_score))
restaurants %>% as.numeric(rating)
#| echo: false        # hide code if this is the Answers page
library(tidyverse)
library(here)
restaurants <- read.csv(here("data", "restaurants.csv"))
restaurants_cleaned <- restaurants %>%
filter(closed != "Thu" | closed != "close down") %>%
mutate(lunch_set_score = ifelse(lunch_set == "Yes", 1, 0)) %>%
mutate(preference_score = case_when(
type == "seafood" ~ 2,
type == "curry" | type == "noodle" ~ 1,
type == "fastfood" ~ -2,
TRUE ~ 0
)) %>%
mutate(rating = as.numeric(rating)) %>%
mutate(total_score = rating + lunch_set_score + preference_score) %>%
arrange(desc(total_score))
print(restaurants_cleaned[1:5, ])
#| echo: false        # hide code if this is the Answers page
library(tidyverse)
library(here)
restaurants <- read.csv(here("data", "restaurants.csv"))
restaurants_cleaned <- restaurants %>%
filter(closed != "Thu" | closed != "close down") %>%
mutate(lunch_set_score = ifelse(lunch_set == "Yes", 1, 0)) %>%
mutate(preference_score = case_when(
type == "seafood" ~ 1.5,
type == "curry" | type == "noodle" ~ 1,
type == "fastfood" ~ -2,
TRUE ~ 0
)) %>%
mutate(rating = as.numeric(rating)) %>%
mutate(total_score = rating + lunch_set_score + preference_score) %>%
arrange(desc(total_score))
print(restaurants_cleaned[1:5, ])
restaurants %>%
filter(closed != "Thu" || closed != "close down")
View(restaurants_cleaned)
restaurants %>%
filter(closed != "Thu" | closed != "close down")
restaurants %>%
filter(closed != "Thu" | closed != "close down")
#| echo: false        # hide code if this is the Answers page
library(tidyverse)
library(here)
restaurants <- read.csv(here("data", "restaurants.csv"))
restaurants_cleaned <- restaurants %>%
filter(closed != "Thu" & closed != "close down") %>%
mutate(lunch_set_score = ifelse(lunch_set == "Yes", 1, 0)) %>%
mutate(preference_score = case_when(
type == "seafood" ~ 1.5,
type == "curry" | type == "noodle" ~ 1,
type == "fastfood" ~ -2,
TRUE ~ 0
)) %>%
mutate(rating = as.numeric(rating)) %>%
mutate(total_score = rating + lunch_set_score + preference_score) %>%
arrange(desc(total_score))
print(restaurants_cleaned[1:5, ])
#| echo: false        # hide code if this is the Answers page
library(tidyverse)
library(here)
restaurants <- read.csv(here("data", "restaurants.csv"))
restaurants_cleaned <- restaurants %>%
filter(closed != "Thu" & closed != "close down") %>%
mutate(lunch_set_score = ifelse(lunch_set == "Yes", 1, 0)) %>%
mutate(preference_score = case_when(
type == "seafood" ~ 2,
type == "curry" | type == "noodle" ~ 1,
type == "fastfood" ~ -2,
TRUE ~ 0
)) %>%
mutate(rating = as.numeric(rating)) %>%
mutate(total_score = rating + lunch_set_score + preference_score) %>%
arrange(desc(total_score))
print(restaurants_cleaned[1:5, ])
#| echo: false        # hide code if this is the Answers page
library(tidyverse)
library(here)
restaurants <- read.csv(here("data", "restaurants.csv"))
restaurants_cleaned <- restaurants %>%
filter(closed != "Thu" & closed != "close down") %>%
mutate(lunch_set_score = ifelse(lunch_set == "Yes", 1, 0)) %>%
mutate(preference_score = case_when(
type == "seafood" ~ 1.5,
type == "curry" | type == "noodle" ~ 1,
type == "fastfood" ~ -2,
TRUE ~ 0
)) %>%
mutate(rating = as.numeric(rating)) %>%
mutate(total_score = rating + lunch_set_score + preference_score) %>%
arrange(desc(total_score))
print(restaurants_cleaned[1:5, ])
#| echo: false        # hide code if this is the Answers page
library(tidyverse)
library(here)
restaurants <- read.csv(here("data", "restaurants.csv"))
restaurants_cleaned <- restaurants %>%
filter(closed != "Thu" & closed != "close down") %>%
mutate(lunch_set_score = ifelse(lunch_set == "Yes", 1, 0)) %>%
mutate(preference_score = case_when(
type == "seafood" ~ 2,
type == "curry" | type == "noodle" ~ 1,
type == "fastfood" ~ -2,
TRUE ~ 0
)) %>%
mutate(rating = as.numeric(rating)) %>%
mutate(total_score = rating + lunch_set_score + preference_score) %>%
arrange(desc(total_score))
print(restaurants_cleaned[1:5, ])
#| echo: false        # hide code if this is the Answers page
library(tidyverse)
library(here)
restaurants <- read.csv(here("data", "restaurants.csv"))
restaurants_cleaned <- restaurants %>%
filter(closed != "Thu" & closed != "close down") %>%
mutate(lunch_set_score = ifelse(lunch_set == "Yes", 1.5, 0)) %>%
mutate(preference_score = case_when(
type == "seafood" ~ 1.5,
type == "curry" | type == "noodle" ~ 1,
type == "fastfood" ~ -2,
TRUE ~ 0
)) %>%
mutate(rating = as.numeric(rating)) %>%
mutate(total_score = rating + lunch_set_score + preference_score) %>%
arrange(desc(total_score))
print(restaurants_cleaned[1:5, ])
#| echo: false        # hide code if this is the Answers page
library(tidyverse)
library(here)
restaurants <- read.csv(here("data", "restaurants.csv"))
restaurants_cleaned <- restaurants %>%
filter(closed != "Thu" & closed != "close down") %>%
mutate(lunch_set_score = ifelse(lunch_set == "Yes", 1, 0)) %>%
mutate(preference_score = case_when(
type == "seafood" ~ 1.5,
type == "curry" | type == "noodle" ~ 1,
type == "fastfood" ~ -2,
TRUE ~ 0
)) %>%
mutate(rating = as.numeric(rating)) %>%
mutate(total_score = rating + lunch_set_score + preference_score) %>%
arrange(desc(total_score))
print(restaurants_cleaned[1:5, ])
#| echo: false        # hide code if this is the Answers page
library(tidyverse)
library(here)
restaurants <- read.csv(here("data", "restaurants.csv"))
restaurants_cleaned <- restaurants %>%
filter(closed != "Thu" & closed != "close down") %>%
mutate(lunch_set_score = ifelse(lunch_set == "Yes", 1.5, 0)) %>%
mutate(preference_score = case_when(
type == "seafood" ~ 1.5,
type == "curry" | type == "noodle" ~ 1,
type == "fastfood" ~ -2,
TRUE ~ 0
)) %>%
mutate(rating = as.numeric(rating)) %>%
mutate(total_score = rating + lunch_set_score + preference_score) %>%
arrange(desc(total_score))
print(restaurants_cleaned[1:5, ])
#| echo: false        # hide code if this is the Answers page
library(tidyverse)
library(here)
restaurants <- read.csv(here("data", "restaurants.csv"))
restaurants_cleaned <- restaurants %>%
filter(closed != "Thu" & closed != "close down") %>%
mutate(lunch_set_score = ifelse(lunch_set == "Yes", 1.5, 0)) %>%
mutate(preference_score = case_when(
type == "seafood" ~ 1.5,
type == "curry" | type == "noodle" ~ 1,
type == "fastfood" ~ -2,
TRUE ~ 0
)) %>%
mutate(rating = as.numeric(rating)) %>%
mutate(total_score = rating + lunch_set_score + preference_score) %>%
select(-c(lunch_set_score, preference_score))
arrange(desc(total_score))
#| echo: false        # hide code if this is the Answers page
library(tidyverse)
library(here)
restaurants <- read.csv(here("data", "restaurants.csv"))
restaurants_cleaned <- restaurants %>%
filter(closed != "Thu" & closed != "close down") %>%
mutate(lunch_set_score = ifelse(lunch_set == "Yes", 1.5, 0)) %>%
mutate(preference_score = case_when(
type == "seafood" ~ 1.5,
type == "curry" | type == "noodle" ~ 1,
type == "fastfood" ~ -2,
TRUE ~ 0
)) %>%
mutate(rating = as.numeric(rating)) %>%
mutate(total_score = rating + lunch_set_score + preference_score) %>%
select(-c(lunch_set_score, preference_score)) %>%
arrange(desc(total_score))
print(restaurants_cleaned[1:5, ])
print(restaurants_cleaned[1:5, ])
View(restaurants_cleaned)
restaurants <- read.csv(here("data", "restaurants.csv"))
View(restaurants)
library(tidyverse)
library(here)
restaurants <- read.csv(here("data", "restaurants.csv"))
View(restaurants)
#| echo: false        # hide code if this is the Answers page
library(tidyverse)
library(here)
restaurants <- read.csv(here("data", "restaurants.csv"))
restaurants_cleaned <- restaurants %>%
filter(closed != "Thu" & closed != "close down") %>%
mutate(lunch_set_score = ifelse(lunch_set == "Yes", 1.5, 0)) %>%
mutate(preference_score = case_when(
type == "seafood" ~ 1.5,
type == "curry" | type == "noodle" ~ 1,
type == "fastfood" ~ -2,
TRUE ~ 0
)) %>%
mutate(rating = as.numeric(rating)) %>%
mutate(total_score = rating + lunch_set_score + preference_score) %>%
select(-c(lunch_set_score, preference_score)) %>%
arrange(desc(total_score))
print(restaurants_cleaned[1:5, ])
View(restaurants)
library(tidyverse)
library(here)
restaurants <- read.csv(here("data", "restaurants.csv"))
View(restaurants)
library(tidyverse)
library(here)
restaurants <- read.csv(here("data", "restaurants.csv"))
View(restaurants)
library(tidyverse)
library(here)
restaurants <- read.csv(here("data", "restaurants.csv"))
View(restaurants)
#| fig-width: 8       # inches
#| fig-height: 5
#| out-width: "90%"   # scales in the page
#| fig-align: center
#| echo: false        # hide code if this is the Answers page
library(tidyverse)
sample_mean_pois <- function(n){
rdnum <- rpois(n, lambda = 5)
return(mean(rdnum))
}
set.seed(2025)
rdmean <- rdmean <- replicate(n = 1000, sample_mean_pois(500))
df <- data.frame(
rdmean
)
df %>% ggplot(aes(x = rdmean)) +
geom_histogram()
#| fig-width: 8       # inches
#| fig-height: 5
#| out-width: "90%"   # scales in the page
#| fig-align: center
#| echo: false        # hide code if this is the Answers page
library(tidyverse)
sample_mean_pois <- function(n){
rdnum <- rpois(n, lambda = 5)
return(mean(rdnum))
}
set.seed(2025)
rdmean <- rdmean <- replicate(n = 1000, sample_mean_pois(500))
df <- data.frame(
rdmean
)
df %>% ggplot(aes(x = rdmean)) +
geom_histogram()
#| echo: false
# clear the mamory and import package
rm(list = ls())
library(tidyverse)
library(here)
# Import data
restaurants <- read.csv(here("data", "full_body_scan.csv"))
#| echo: false        # hide code if this is the Answers page
# create two-way table (column percentage)
count_table <- table(body$answer, body$party_affiliation,
dnn = c("Asnwer", "Party Affiliation"))
df <- data.frame(
name  = c("Alice", "Bob", "Cara"),
score = c(80, 90, 85),
pass  = c(TRUE, TRUE, TRUE)
)
dim(df)
a <- dim(df)
matrix(
score = c(80, 90, 85)
)
a <- matrix( c(1,2,3))
a
nrow(a)
nrow(c(1,2,3)
)
df <- data.frame(
name  = c("Alice", "Bob"),
score = c(80, 90),
pass  = c(TRUE, TRUE)
)
nrow(df)
dim(df)
df <- data.frame(
name  = c("Alice", "Bob"),
score = c(80, 90),
pass  = c(TRUE, TRUE)
)
nrow(df)  # 2
ncol(df)  # 3
dim(df)   # 2 3
#| echo: false        # hide code if this is the Answers page
library(tidyverse)
library(here)
transactions <- read.csv(here("data", "transactions.csv"))
transactions_by2024 <- transactions %>%
mutate(
period = if_else(year == 2024, "year_2024", "pre_2024")
)
summary_counts <- transactions_by2024 %>%
group_by(period, payment_type) %>%
summarize(n = n(),
mean = mean(amount)
) %>%
ungroup()
print(summary_counts)
#| echo: false        # hide code if this is the Answers page
tab <- table(transactions_by2024$period,
transactions_by2024$payment_type
)
print(tab)
library(tidyverse)
library(here)
transactions <- read.csv(here("data", "transactions.csv"))
transactions_by2024 <- transactions %>%
mutate(
period = if_else(year == 2024, "year_2024", "pre_2024")
)
summary_counts <- transactions_by2024 %>%
group_by(period, payment_type) %>%
summarize(n = n(),
mean = mean(amount)
) %>%
ungroup()
print(summary_counts)
tab <- table(transactions_by2024$period,
transactions_by2024$payment_type
)
print(tab)
chisq_result <- chisq.test(tab)
print(chisq_result)
print(chisq_result[["p.value"]]) # reject the null hypothesis
#| echo: false        # hide code if this is the Answers page
rm(list = ls())
damage_sunraku <- c(
1310, 1195, 1240, 1285, 1220,
1350, 1290, 1210, 1265, 1305,
1330, 1275, 1255, 1190, 1320
)
# Test if mean > 1200
test_1 <- t.test(
damage_sunraku,
mu = 1200,
alternative = "greater",
conf.level = 0.95
)
test_1
print(paste0("95 percent confidence interval:(",
test_1$conf.int[1],
" ",
test_1$conf.int[2],
")"
)
)
#| echo: false        # hide code if this is the Answers page
damage_psyger0 <- c(
1380, 1425, 1405, 1360, 1390,
1435, 1410, 1375, 1440, 1400,
1395, 1420
)
# Test if their damage if different
test_2 <- t.test(
damage_sunraku,
damage_psyger0,
alternative = "two.sided",
conf.level = 0.95
)
test_2
print(test_2$p.value)
quarto render
c.
# clear the memory
library(tidyverse)
rm(list = ls())
# drop pitcher sample
mlb <- read.csv("data/mlb_players_18.csv") %>%
filter(position != "P" & position != "DH")
sales <- data.frame(
region = c("N","N","N","N","S","S","S","S"),
year   = c(2024,2024,2024,2025,2024,2025,2025,2025),
rep    = c("A","A","B","B","A","A","B","B"),
amount = c(100, 110, 120, 130, 90, 110, 150, 170),
cost   = c(40, 10, 60, 40, 20, 130, 230, 230)
)
stores <- sales %>%
group_by(region, year, rep) %>%
mutate(growth = amount - cost) %>%
summarize(mean_growth = mean(growth)) %>%
filter(mean_growth == max(mean_growth))
library(tidyverse)
sales <- data.frame(
region = c("N","N","N","N","S","S","S","S"),
year   = c(2024,2024,2024,2025,2024,2025,2025,2025),
rep    = c("A","A","B","B","A","A","B","B"),
amount = c(100, 110, 120, 130, 90, 110, 150, 170),
cost   = c(40, 10, 60, 40, 20, 130, 230, 230)
)
stores <- sales %>%
group_by(region, year, rep) %>%
mutate(growth = amount - cost) %>%
summarize(mean_growth = mean(growth)) %>%
filter(mean_growth == max(mean_growth))
sum(stores$mean_growth)
counts<-table(c("A","A","B","B","A","B"),
c("Yes","No","Yes","No","Yes","No"))
counts
as.numeric(counts)
chisq.test(as.numeric(counts))
chisq.test(counts)
